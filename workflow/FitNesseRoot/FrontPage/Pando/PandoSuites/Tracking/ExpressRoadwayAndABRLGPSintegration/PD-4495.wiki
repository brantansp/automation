---
Help: Ensure GPS trip had been created with Express roadways(fleetx)
Test
---
!***> Unique values assignment
!| Script         |Common                                     |
|$unique=         |getCurrentDateTimeStamp;|yMMddHHmmss       |
|$currDate=       |getCurrentDateTimeStamp |iso               |
|$year=           |getSubString;           |$unique|0   |4    |
|$detention_group=|getRandomString;        |4      |ALPHAUPPER|
|$num=            |getRandomNumber;        |100000 |999999    |
|$uniq_partial=   |getSubString;           |$unique|0   |12   |
|$num1=           |getRandomNumber;        |20     |76        |
|$num2=           |getRandomNumber;        |1000   |9999      |
|$rand1=          |getRandomString;        |2      |ALPHAUPPER|
*!

!** Sending Trip creation request from ERP
!define vehicle_number {TN$num1$rand1$num2}

!|script|json                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|$data= |trimJson;|{"data":{"n0:TransportationOrderRequest":{"MessageHeader":{"CreationDateTime":"2020-08-07T10:21:26Z","SenderBusinessSystemID":"GSS_GT_A_CBVPRST102_PR_STM","RecipientParty":[{"InternalID":{"@schemeID":"FO NUMBER","$":"F$unique"}},{"InternalID":{"@schemeID":"CARRIER","$":"Express Roadways Private Limited"}},{"InternalID":{"@schemeID":"PURCHASING ORGANISATION","$":"50008186"}},{"InternalID":{"@schemeID":"PLANNING EXECUTION ORG","$":"50008187"}},{"InternalID":{"@schemeID":"ROUTING","$":"INTHITV001"}},{"InternalID":{"@schemeID":"IN_TRANSIT_TRK","$":"X"}}]},"TransportationDocument":{"@actionCode":"02","RevenuePaymentArrangementCode":{"@listAgencyID":"116","@listID":"146","$":"PP"},"DangerousGoodsIndicator":"false","ResponseRequiredIndicator":"true","ExecutionReleaseStatusCode":"1","ShipFromLocationAddressTimeZoneCode":"UTC+53","ShipToLocationAddressTimeZoneCode":"UTC+53","CargoGrossWeightTotalQuantity":{"@unitCode":"KGM","$":"14859.0"},"CargoGrossVolumeTotalQuantity":{"@unitCode":"MTQ","$":"50.5314"},"TotalDistanceMeasure":{"@unitCode":"KTM","$":"3096.0"},"TotalNetDuration":"PT222H","StopsTotalNumberValue":"2","LoadingLocationsTotalNumberValue":"1","UnloadingLocationsTotalNumberValue":"1","RequestedPickupDateTimePeriod":{"StartDateTime":"2020-08-07T00:00:00+05:30","EndDateTime":"2020-08-07T04:00:00+05:30","n1:TimeZone":"INDIA"},"RequestedDeliveryDateTimePeriod":{"StartDateTime":"2020-08-16T04:00:00+05:30","EndDateTime":"2020-08-16T06:00:00+05:30","n1:TimeZone":"INDIA"},"ShipperParty":{"InternalID":"IN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","POBoxIndicator":"false","StreetName":"Ludhiana - Ferozpur Road","StreetSuffixName":"Near Kingwah Canal"},"Communication":{"CorrespondenceLanguageCode":"en"}}},"ConsigneeParty":{"InternalID":"0000604498","Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","POBoxIndicator":"false","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","StreetPrefixName":"C/o M/s  Beeta Traders","StreetSuffixName":"Cheranaloor","n2:StreetAdditional":"C/o M/s  Beeta Traders"},"Communication":{"CorrespondenceLanguageCode":"en","Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"PreferredCarrierParty":{"InternalID":"0101201432","Address":{"OrganisationFormattedName":["Express Roadways Private Limited"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"07","StreetPostalCode":"122100","CityName":"Rewari","POBoxIndicator":"false","StreetName":"HSIDC, Dharuhera","HouseID":"16"},"Communication":{"CorrespondenceLanguageCode":"en","Telephone":{"Number":{"AreaID":"011","SubscriberID":"46010601","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"},"MobilePhone":{"Number":{"AreaID":"0","SubscriberID":"9818744444","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"},"Facsimile":{"Number":{"AreaID":"011","SubscriberID":"43851045","CountryCode":"IN","CountryDiallingCode":"91"},"NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"},"Email":{"URI":"harshdhingra@dgfc.in","URIDefaultIndicator":"true","URIUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Delhi Gujarat Fleet"}},"ShipFromLocation":{"InternalID":"IN3SIN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","StreetName":"Ludhiana - Ferozpur Road","n2:StreetAdditional":"Near Kingwah Canal"}}},"ShipToLocation":{"InternalID":"IN3C2040","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"TransportationStage":{"ID":"10","OrdinalNumberValue":"1","TransportMeansTypeCode":"IN3_D_C119","LoadingLocationAddressTimeZoneCode":"UTC+53","UnloadingLocationAddressTimeZoneCode":"UTC+53","DistanceMeasure":{"@unitCode":"KTM","$":"3096.0"},"NetDuration":"PT216H","ExpectedDepartureDateTime":"2020-08-06T22:30:00Z","RequestedLoadingDateTimePeriod":{"StartDateTime":"2020-08-07T04:00:00+05:30","EndDateTime":"2020-08-07T04:00:00+05:30","n1:TimeZone":"INDIA"},"RequestedUnloadingDateTimePeriod":{"StartDateTime":"2020-08-16T04:00:00+05:30","EndDateTime":"2020-08-16T04:00:00+05:30","n1:TimeZone":"INDIA"},"ExpectedArrivalDateTime":"2020-08-15T22:30:00Z","LoadingLocation":{"InternalID":"IN3SIN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","StreetName":"Ludhiana - Ferozpur Road","n2:StreetAdditional":"Near Kingwah Canal"}},"n2:AppointmentWindowDateTimePeriod":{"StartDateTime":"2020-08-06T23:00:00+05:30","EndDateTime":"2020-08-09T00:00:00+05:30","n1:TimeZone":"INDIA"}},"UnloadingLocation":{"InternalID":"IN3C2040","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"},"n2:AppointmentWindowDateTimePeriod":{"StartDateTime":"2020-08-16T00:00:00+05:30","EndDateTime":"2020-08-18T04:00:00+05:30","n1:TimeZone":"INDIA"}},"ItemAssignment":[{"ItemID":"1000000"},{"ItemID":"10"},{"ItemID":"20"},{"ItemID":"30"}],"n1:ImperialDistanceMeasure":{"@unitCode":"SMI","$":"1923.766"}},"TransportationTerms":{"TransportServiceLevelCode":"01","TransportModeCode":{"@listID":"11719","$":"01"}},"BaseBusinessTransactionDocumentReference":{"ID":"I300071677","TypeCode":"614","Date":"2020-08-06","VersionID":"0101201432-0001"},"OriginBusinessTransactionDocumentReference":{"ID":"1","TypeCode":"003"},"FreightAgreementReference":{"BaseFreightAgreementID":"IN3_FA_DGFC","ItemID":"100"},"BusinessTransactionDocumentReference":[{"BusinessTransactionDocumentReference":{"ID":"4554101060"},"TransportationDocumentTypeCode":"STO"},{"BusinessTransactionDocumentReference":{"ID":"7039765749","TypeCode":"73"}},{"BusinessTransactionDocumentReference":{"ID":"1199947858","TypeCode":"1123"}},{"BusinessTransactionDocumentReference":{"ID":"5112534575","TypeCode":"111"}},{"BusinessTransactionDocumentReference":{"ID":"5112534575","TypeCode":"1122"}},{"BusinessTransactionDocumentReference":{"ID":"00000001000719213","TypeCode":"T52"}}],"TextCollection":{"@actionCode":"01"},"Item":[{"ID":"1000000","CategoryCode":"AVR","DangerousGoodsIndicator":"false","GrossWeightTransportationQuantity":{"@unitCode":"KGM","$":"14859.0"},"GrossVolumeTransportationQuantity":{"@unitCode":"MTQ","$":"50.5314"},"NetWeightTransportationQuantity":{"@unitCode":"KGM","$":"14859.0"},"PiecesTransportationQuantity":{"@unitCode":"CS","$":"1250.0"},"RequestedPickupDateTimePeriod":{"StartDateTime":"2020-08-07T00:00:00+05:30","EndDateTime":"2020-08-07T04:00:00+05:30","n1:TimeZone":"INDIA"},"RequestedDeliveryDateTimePeriod":{"StartDateTime":"2020-08-16T04:00:00+05:30","EndDateTime":"2020-08-16T06:00:00+05:30","n1:TimeZone":"INDIA"},"ShipFromLocation":{"InternalID":"IN3SIN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","StreetName":"Ludhiana - Ferozpur Road","n2:StreetAdditional":"Near Kingwah Canal"}}},"ShipToLocation":{"InternalID":"IN3C2040","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"VehicleResource":{"ID":"IN3_D_C119_32FTD","TransportMeansID":"IN3_D_C119","TransportMeansTypeCode":"IN3_D_C119","n1:VehicleDescription":"IN Dry Container 14.75T 32FT","n1:TransportMeansDescription":"IN Dry Container 14.75T 32FT","n1:VehicleDynamicSegment":[{"Qualifier":"G-TEMPERATURE","Contents":"AMBIENT"},{"Qualifier":"TRAILER_ID","Contents":"NL01AC0104"}]},"TransportationTerms":{"TransportModeCode":{"@listID":"11719","$":"01"}},"BaseBusinessTransactionDocumentReference":{"ID":"I300071677","TypeCode":"614","ItemID":"1000000"},"n1:Pieces2TransportationQuantity":{"@unitCode":"EA","$":"1.0"}},{"ID":"20","CategoryCode":"PRD","Description":"EVERYDAY DW 12x1kg N2 IN","DangerousGoodsIndicator":"false","OriginCountryCode":"IN","DestinationCountryCode":"IN","GrossWeightTransportationQuantity":{"@unitCode":"KGM","$":"11067.0"},"GrossVolumeTransportationQuantity":{"@unitCode":"MTQ","$":"27.5978"},"NetWeightTransportationQuantity":{"@unitCode":"KGM","$":"10200.0"},"PiecesTransportationQuantity":{"@unitCode":"CS","$":"850.0"},"LengthMeasure":{"@unitCode":"MMT","$":"555.0"},"WidthMeasure":{"@unitCode":"MMT","$":"325.0"},"HeightMeasure":{"@unitCode":"MMT","$":"180.0"},"RequestedPickupDateTimePeriod":{"StartDateTime":"2020-08-07T00:00:00+05:30","EndDateTime":"2020-08-07T04:00:00+05:30","n1:TimeZone":"INDIA"},"RequestedDeliveryDateTimePeriod":{"StartDateTime":"2020-08-16T04:00:00+05:30","EndDateTime":"2020-08-16T06:00:00+05:30","n1:TimeZone":"INDIA"},"HierarchyRelationship":{"ParentItemID":"1000000"},"ShipperParty":{"InternalID":"IN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","POBoxIndicator":"false","StreetName":"Ludhiana - Ferozpur Road","StreetSuffixName":"Near Kingwah Canal"},"Communication":{"CorrespondenceLanguageCode":"en"}}},"ConsigneeParty":{"InternalID":"0000604498","Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","POBoxIndicator":"false","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","StreetPrefixName":"C/o M/s  Beeta Traders","StreetSuffixName":"Cheranaloor","n2:StreetAdditional":"C/o M/s  Beeta Traders"},"Communication":{"CorrespondenceLanguageCode":"en","Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"ShipFromLocation":{"InternalID":"IN3SIN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","StreetName":"Ludhiana - Ferozpur Road","n2:StreetAdditional":"Near Kingwah Canal"}}},"ShipToLocation":{"InternalID":"IN3C2040","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"Product":{"InternalID":"0000000000000000000000000000000012425805","StandardID":[{"@schemeAgencyID":"9","$":"18901058869320"},{"@schemeAgencyID":"9","$":"8901058869323"}]},"TransportationTerms":{"TransportServiceLevelCode":"01","TransportModeCode":{"@listID":"11719","$":"01"}},"BaseBusinessTransactionDocumentReference":{"ID":"I300071677","TypeCode":"614","ItemID":"20"},"BusinessTransactionDocumentReference":["",""],"n1:BusinessTransactionDocumentReference":[{"ID":"7039765749","TypeCode":"73","ItemReferenceDocumentNumber":"10","ItemTypeCode":"14"},{"ID":"4554101060","TypeCode":"STO","ItemReferenceDocumentNumber":"10","ItemTypeCode":"001"}]},{"ID":"10","CategoryCode":"PKG","DangerousGoodsIndicator":"false","PiecesTransportationQuantity":{"@unitCode":"EA","$":"1.0"},"RequestedPickupDateTimePeriod":{"StartDateTime":"2020-08-07T00:00:00+05:30","EndDateTime":"2020-08-07T04:00:00+05:30","n1:TimeZone":"INDIA"},"RequestedDeliveryDateTimePeriod":{"StartDateTime":"2020-08-16T04:00:00+05:30","EndDateTime":"2020-08-16T06:00:00+05:30","n1:TimeZone":"INDIA"},"HierarchyRelationship":{"ParentItemID":"1000000"},"ShipFromLocation":{"InternalID":"IN3SIN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","StreetName":"Ludhiana - Ferozpur Road","n2:StreetAdditional":"Near Kingwah Canal"}}},"ShipToLocation":{"InternalID":"IN3C2040","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"BaseBusinessTransactionDocumentReference":{"ID":"I300071677","TypeCode":"614","ItemID":"10"}},{"ID":"30","CategoryCode":"PRD","Description":"NESTLE EVERYDAY DW 384x20g N2 IN","DangerousGoodsIndicator":"false","OriginCountryCode":"IN","DestinationCountryCode":"IN","GrossWeightTransportationQuantity":{"@unitCode":"KGM","$":"3792.0"},"GrossVolumeTransportationQuantity":{"@unitCode":"MTQ","$":"22.9336"},"NetWeightTransportationQuantity":{"@unitCode":"KGM","$":"3072.0"},"PiecesTransportationQuantity":{"@unitCode":"CS","$":"400.0"},"LengthMeasure":{"@unitCode":"MMT","$":"355.0"},"WidthMeasure":{"@unitCode":"MMT","$":"333.0"},"HeightMeasure":{"@unitCode":"MMT","$":"485.0"},"RequestedPickupDateTimePeriod":{"StartDateTime":"2020-08-07T00:00:00+05:30","EndDateTime":"2020-08-07T04:00:00+05:30","n1:TimeZone":"INDIA"},"RequestedDeliveryDateTimePeriod":{"StartDateTime":"2020-08-16T04:00:00+05:30","EndDateTime":"2020-08-16T06:00:00+05:30","n1:TimeZone":"INDIA"},"HierarchyRelationship":{"ParentItemID":"1000000"},"ShipperParty":{"InternalID":"IN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","POBoxIndicator":"false","StreetName":"Ludhiana - Ferozpur Road","StreetSuffixName":"Near Kingwah Canal"},"Communication":{"CorrespondenceLanguageCode":"en"}}},"ConsigneeParty":{"InternalID":"0000604498","Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","POBoxIndicator":"false","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","StreetPrefixName":"C/o M/s  Beeta Traders","StreetSuffixName":"Cheranaloor","n2:StreetAdditional":"C/o M/s  Beeta Traders"},"Communication":{"CorrespondenceLanguageCode":"en","Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"ShipFromLocation":{"InternalID":"IN3SIN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","StreetName":"Ludhiana - Ferozpur Road","n2:StreetAdditional":"Near Kingwah Canal"}}},"ShipToLocation":{"InternalID":"IN3C2040","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"}},"Product":{"InternalID":"0000000000000000000000000000000012425816","StandardID":[{"@schemeAgencyID":"9","$":"8901058869453"},{"@schemeAgencyID":"9","$":"18901058869450"}]},"TransportationTerms":{"TransportServiceLevelCode":"01","TransportModeCode":{"@listID":"11719","$":"01"}},"BaseBusinessTransactionDocumentReference":{"ID":"I300071677","TypeCode":"614","ItemID":"30"},"BusinessTransactionDocumentReference":["",""],"n1:BusinessTransactionDocumentReference":[{"ID":"7039765749","TypeCode":"73","ItemReferenceDocumentNumber":"20","ItemTypeCode":"14"},{"ID":"4554101060","TypeCode":"STO","ItemReferenceDocumentNumber":"20","ItemTypeCode":"001"}]}],"TransportationCharge":{"CalculationDateTime":"2020-08-06T00:00:00Z","TotalAmount":{"@currencyCode":"INR","$":"116710.0"}},"n1:GLB_FUView":{"FU_Number":"345428676","LoadingLocation":{"InternalID":"IN3SIN02","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"142001","CityName":"Moga","StreetName":"Ludhiana - Ferozpur Road","n2:StreetAdditional":"Near Kingwah Canal"}},"n2:AppointmentWindowDateTimePeriod":{"StartDateTime":"2020-08-06T23:00:00+05:30","EndDateTime":"2020-08-09T00:00:00+05:30","n1:TimeZone":"INDIA"}},"UnloadingLocation":{"InternalID":"IN3C2040","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"682034","CityName":"Cochin","StreetName":"Door IX/586D,Hyson Mod Venture,NH17","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"},"n2:AppointmentWindowDateTimePeriod":{"StartDateTime":"2020-08-08T18:29:59+05:30","EndDateTime":"2020-08-08T18:29:59+05:30","n1:TimeZone":"INDIA"}},"DeliveryGrossWeightTransportationQuantity":{"@unitCode":"KGM","$":"14859.0"},"DeliveryVolumeTransportationQuantity":{"@unitCode":"MTQ","$":"50.5314"},"DeliveryNetWeightTransportationQuantity":{"@unitCode":"KGM","$":"13272.0"},"DeliveryPiecesTransportationQuantity":{"@unitCode":"CS","$":"1250.0"},"DeliveryPieces2TransportationQuantity":"0.0","Picksequence":"1","Dropsequence":"1","BusinessTransactionDocumentReference":[{"ID":"7039765749","TypeCode":"73"},{"ID":"4554101060","TypeCode":"STO"}],"ItemAssignment":[{"ItemID":"20"},{"ItemID":"30"}],"FU_ViewDynamicSegment":{"Qualifier":"ROUTE_ID","Content":"0451D8"}},"n1:GLB_OrganisationalUnits":[{"OrganisationalD":"IN3_PLEX1","OrganisationaUnit":"IN3_PLEX1","OrganisationalUnitDdescription":"NIL - Planning & Exec. Org (50008187)","OrganisationalUnitFunction":"13","OrganisationalUnitFunctionDescription":"Planning and Execution","OrganisationalUnitRole":"1","OrganisationalUnitRoledescription":"Organization","Address":{"PhysicalAddress":{"CountryCode":"IN","CountryName":"India","StreetPostalCode":"122002","CityName":"Gurgaon","StreetName":"Nestle House, Jacaranda Marg M-Block, DLF City, Phase-II"}}},{"OrganisationalD":"IN3_PORG1","OrganisationaUnit":"IN3_PORG1","OrganisationalUnitDdescription":"NIL - Purchasing Org (50008186)","OrganisationalUnitFunction":"2","OrganisationalUnitFunctionDescription":"Purchasing","OrganisationalUnitRole":"1","OrganisationalUnitRoledescription":"Organization","Address":{"PhysicalAddress":{"CountryCode":"IN","CountryName":"India","StreetPostalCode":"122002","CityName":"Gurgaon","StreetName":"Nestle House, Jacaranda Marg M-Block, DLF City, Phase-II"}}}],"n1:GLB_StopView":[{"StopID":"1","StopCategory":"O","StopHomogenity":"C","StopLocation":{"InternalID":"Pickup1","Address":{"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"600053","CityName":"Chennai","StreetName":"Pataravakkam Main Road, Chennai, Tamil Nadu, 600053 Ambattur","n2:StreetAdditional":"Chennai"}},"n2:AppointmentWindowDateTimePeriod":{"StartDateTime":"2020-08-06T23:00:00+05:30","EndDateTime":"2020-08-09T00:00:00+05:30","n1:TimeZone":"INDIA"}},"StopDetails":{"ActivityID":"1","ActivityType":"LO","FUNumber":"345428676","RequestedLoadingDateTimePeriod":{"StartDateTime":"2020-10-22T22:00:00+05:30","EndDateTime":"2020-10-22T22:00:00+05:30","n1:TimeZone":"INDIA"},"DeliveryGrossWeightTransportationQuantity":{"@unitCode":"KGM","$":"14859.0"},"DeliveryVolumeTransportationQuantity":{"@unitCode":"MTQ","$":"50.5314"},"DeliveryNetWeightTransportationQuantity":{"@unitCode":"KGM","$":"13272.0"},"DeliveryPiecesTransportationQuantity":[{"@unitCode":"CS","$":"1250.0"},{"@unitCode":"CS","$":"1250.0"}],"DeliveryPieces2TransportationQuantity":"0.0","Appointment":{"LoadType":"L","LoadAppointmentOrigin":"D","LoadAppointmentDateTime":{"@timeZoneCode":"INDIA","$":"2020-08-07T10:00:00+05:30"},"AppointmentStatusIndicator":"B","AppointmentTiming":"2","PickupAppointmentStatus":"A","TimeZone":"INDIA"},"BusinessTransactionDocumentReference":[{"ID":"7039765749","TypeCode":"73"},{"ID":"4554101060","TypeCode":"STO"}],"StopViewDynamicSegment":[{"Qualifier":"GRO_WEI_NOVU","Content":"14859.000"},{"Qualifier":"GRO_VOL_NOVU","Content":"50.532"},{"Qualifier":"SUBSEQUENT_SLOTS","Content":"1"},{"Qualifier":"PARALLEL_SLOTS","Content":"1"}]}},{"StopID":"2","StopCategory":"I","StopHomogenity":"I","StopLocation":{"InternalID":"drop1","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","StreetPostalCode":"631001","CityName":"Arakkonam","StreetName":"Kanchipuram Main Road, Arakkonam, Tamil Nadu, 631001 Arakkonam","n2:StreetAdditional":"Arakkonam"},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"},"n2:AppointmentWindowDateTimePeriod":{"StartDateTime":"2020-08-16T00:00:00+05:30","EndDateTime":"2020-08-18T04:00:00+05:30","n1:TimeZone":"INDIA"}},"StopDetails":{"ActivityID":"1","ActivityType":"UL","FUNumber":"345428676","RequestedUnloadingDateTimePeriod":{"StartDateTime":"2020-10-22T22:00:00+05:30","EndDateTime":"2020-10-22T22:00:00+05:30","n1:TimeZone":"INDIA"},"DeliveryGrossWeightTransportationQuantity":{"@unitCode":"KGM","$":"14859.0"},"DeliveryVolumeTransportationQuantity":{"@unitCode":"MTQ","$":"50.5314"},"DeliveryNetWeightTransportationQuantity":{"@unitCode":"KGM","$":"13272.0"},"DeliveryPiecesTransportationQuantity":[{"@unitCode":"CS","$":"1250.0"},{"@unitCode":"CS","$":"1250.0"}],"DeliveryPieces2TransportationQuantity":"0.0","Appointment":{"AppointmentStatusIndicator":"A","AppointmentTiming":"4"},"BusinessTransactionDocumentReference":[{"ID":"7039765749","TypeCode":"73"},{"ID":"4554101060","TypeCode":"STO"}],"StopViewDynamicSegment":[{"Qualifier":"GRO_WEI_NOVU","Content":"14859.000"},{"Qualifier":"GRO_VOL_NOVU","Content":"14859.00000000000000"},{"Qualifier":"UNL_ACC_FROM","Content":"2020-08-06T00:00:00Z"},{"Qualifier":"UNL_ACC_TO","Content":"2020-08-08T23:59:59Z"},{"Qualifier":"SUBSEQUENT_SLOTS","Content":"1"},{"Qualifier":"PARALLEL_SLOTS","Content":"1"}]}},{"StopID":"3","StopCategory":"I","StopHomogenity":"I","StopLocation":{"InternalID":"drop2","StandardID":{"@schemeAgencyID":"009","$":"8900000021062"},"Address":{"OrganisationFormattedName":["Nestle India Limited","","IN DC Cochin","Beeta Traders"],"PhysicalAddress":{"CountryCode":"IN","RegionCode":"11","StreetPostalCode":"632004","CityName":"Vellore","StreetName":"Anna Salai Road, Vellore Vellore Fort Area, Tamil Nadu, 632004 Vellore Fort Area","n2:StreetAdditional":["C/o M/s  Beeta Traders","Cheranaloor"]},"Communication":{"Telephone":{"Number":{"SubscriberID":"04846069998","CountryCode":"IN","CountryDiallingCode":"91"},"SMSEnabledIndicator":"false","NumberDefaultIndicator":"true","NumberUsageDenialIndicator":"false"}},"n2:GLB_OrganisationName":"Nestle India Limited"},"n2:AppointmentWindowDateTimePeriod":{"StartDateTime":"2020-08-16T00:00:00+05:30","EndDateTime":"2020-08-18T04:00:00+05:30","n1:TimeZone":"INDIA"}},"StopDetails":{"ActivityID":"1","ActivityType":"UL","FUNumber":"345428676","RequestedUnloadingDateTimePeriod":{"StartDateTime":"2020-10-22T22:00:00+05:30","EndDateTime":"2020-10-22T22:00:00+05:30","n1:TimeZone":"INDIA"},"DeliveryGrossWeightTransportationQuantity":{"@unitCode":"KGM","$":"14859.0"},"DeliveryVolumeTransportationQuantity":{"@unitCode":"MTQ","$":"50.5314"},"DeliveryNetWeightTransportationQuantity":{"@unitCode":"KGM","$":"13272.0"},"DeliveryPiecesTransportationQuantity":[{"@unitCode":"CS","$":"1250.0"},{"@unitCode":"CS","$":"1250.0"}],"DeliveryPieces2TransportationQuantity":"0.0","Appointment":{"AppointmentStatusIndicator":"A","AppointmentTiming":"4"},"BusinessTransactionDocumentReference":[{"ID":"7039765749","TypeCode":"73"},{"ID":"4554101060","TypeCode":"STO"}],"StopViewDynamicSegment":[{"Qualifier":"GRO_WEI_NOVU","Content":"14859.000"},{"Qualifier":"GRO_VOL_NOVU","Content":"14859.00000000000000"},{"Qualifier":"UNL_ACC_FROM","Content":"2020-08-06T00:00:00Z"},{"Qualifier":"UNL_ACC_TO","Content":"2020-08-08T23:59:59Z"},{"Qualifier":"SUBSEQUENT_SLOTS","Content":"1"},{"Qualifier":"PARALLEL_SLOTS","Content":"1"}]}}],"n1:HeaderDistanceMeasure":{"@unitCode":"KTM","$":"3096.0"},"n1:HeaderImperialDistanceMeasure":{"@unitCode":"SMI","$":"1923.766"},"n1:GLB_HeaderDynamicSegment":[{"Qualifier":"Z_CARR_SECURE_LOCATION","Contents":"IN3SIN02"},{"Qualifier":"Z_CARR_SECURE_TIMEZONE","Contents":"INDIA"},{"Qualifier":"Z_CARR_SECURE_TIMESTAMP","Contents":"2020-08-06T18:52:38Z"},{"Qualifier":"Z_EMPTY_TRUCK_ARR_LOCATION","Contents":"IN3SIN02"},{"Qualifier":"Z_EMPTY_TRUCK_ARR_TIMEZONE","Contents":"INDIA"},{"Qualifier":"Z_EMPTY_TRUCK_ARR_TIMESTAMP","Contents":"2020-08-07T11:00:00Z"},{"Qualifier":"Z_SRC_APPT_DEAD_LOCATION","Contents":"IN3SIN02"},{"Qualifier":"Z_SRC_APPT_DEAD_TIMEZONE","Contents":"INDIA"},{"Qualifier":"Z_SRC_APPT_DEAD_TIMESTAMP","Contents":"2020-08-06T22:19:16Z"},{"Qualifier":"Z_DA_VEHICLE_ID","Contents":"${vehicle_number}"},{"Qualifier":"Z_DA_DRIVERNAME","Contents":"cgdarcl DRIVER"},{"Qualifier":"Z_DA_DRIV_PHONE","Contents":"8778602561"},{"Qualifier":"CM_ID"},{"Qualifier":"HOMPALLET","Contents":"1"},{"Qualifier":"MIXPALLET","Contents":"0"}],"n1:ActionCode":"00","n1:ExecutionStatus":"2"}}}}|

!include .FrontPage.Pando.PandoSuites.PandoAPI.ERPIntegration.CreateTripAPI

!| Script          |json                                            |
|$trip_state=      |getValueFromJSON;|$trip|trip.state              |
|$type_of_tracking=|getValueFromJSON;|$trip|trackTrip.typeOfTracking|

!|script|common                                               |
|check  |checkIfStringAreEqual;|$trip_state      |STARTED|true|
|check  |checkIfStringAreEqual;|$type_of_tracking|GPS    |true|
*!

!** Checking Trip creation
!|script                     |ui                                                                                                                                                                            |
|navigateToUrl;              |${surl}/track                                                                                                                                                                 |
|$tresult1=                  |isElementPresent;                                                                            |(//div[contains(@class,'list-row')])[1]//span[contains(text(),'F$unique')]|xpath|
|click;                      |(//div[contains(@class,'list-row')])[1]//a[normalize-space(text())='Details']                |xpath                                                                           |
|waitForElementToBeDisplayed;|//p[text()='No pings found']                                                                 |xpath                                                                     |10   |
|click;                      |//div[text()='Timeline']                                                                     |xpath                                                                           |
|waitForElementToBeDisplayed;|//div[text()='Ping Received']/ancestor::div[contains(@class,'table')]//span[text()='No Data']|xpath                                                                     |10   |

!|script       |DateUtil                             |
|$time_to_wait=|getTimeDIfferenceToTheNextQuaterHour;|

!|script       |common                                    |
|$time_to_wait=|getResultOfCalculation;|$time_to_wait|*|60|
|$time_to_wait=|getResultOfCalculation;|$time_to_wait|+|60|

!|script                     |ui                                                                                                                                                                                   |
|wait;                       |$time_to_wait                                                                                                                                                                        |
|refresh;                                                                                                                                                                                                          |
|waitForElementToBeDisplayed;|//div[text()='Timeline']|xpath                                                                                                                                                 |10   |
|click;                      |//div[text()='Timeline']|xpath                                                                                                                                                       |
|$total_pings=               |getCountOfElements;     |//div[text()='Ping Received']/ancestor::div[contains(@class,'table')]//div[contains(@class,'table__body')]                                            |xpath|
|$tresult2=                  |isElementNotPresent;    |//div[text()='Ping Received']/ancestor::div[contains(@class,'table')]//span[text()='No Data']                                                         |xpath|
|wait;                       |2700                                                                                                                                                                                 |
|navigateToUrl;              |${surl}/track                                                                                                                                                                        |
|$tresult3=                  |isElementPresent;       |//span[contains(text(),'F$unique')]/ancestor::div[contains(@class,'list-row')]//span[contains(@class,'status-green') and contains(text(),'COMPLETED')]|xpath|
*!

!** Validating Test results
!|Script  |Common                                                          |
|$tresult=|checkIfStringAreEqualInArray;|$tresult1,$tresult2,$tresult3,true|
|check    |checkIfStringAreEqual;       |$tresult      |true     |true     |
*!